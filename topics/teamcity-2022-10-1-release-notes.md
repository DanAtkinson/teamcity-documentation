[//]: # (title: TeamCity 2022.10.1 Release Notes)
[//]: # (auxiliary-id: TeamCity 2022.10.1 Release Notes)

__Build: 116934__

__1 December 2022__

### Feature

**[TW-75758](https://youtrack.jetbrains.com/issue/TW-75758/Build-approval-add-a-health-report-about-incorrectly-configured-approval-rules)** — Build approval: add a health report about incorrectly configured approval rules

**[TW-78345](https://youtrack.jetbrains.com/issue/TW-78345/Add-a-possibility-to-escape-special-charecters-in-dotnet-msbuild-...-commands-parameters-passed-via-system-property)** — Add a possibility to escape special charecters in `dotnet msbuild ...` command's parameters passed via system property

**[TW-77877](https://youtrack.jetbrains.com/issue/TW-77877/Missing-Copy-to-clipboard-action-for-agent-IP-address)** — Missing 'Copy to clipboard' action for agent IP address

### Bug

**[TW-78243](https://youtrack.jetbrains.com/issue/TW-78243/Log-in-to-TeamCity-may-not-work-if-HTTPS-was-disabled-on-the-server)** — Log in to TeamCity may not work if HTTPS was disabled on the server

**[TW-78773](https://youtrack.jetbrains.com/issue/TW-78773/Update-of-the-running-builds-state-is-blocked-because-of-the-thread-which-cannot-send-log-messages-to-another-node)** — Update of the running builds state is blocked because of the thread which cannot send log messages to another node

**[TW-78718](https://youtrack.jetbrains.com/issue/TW-78718/Empty-.NET-coverage-report-for-dotnet-msbuild-command-in-docker-wrapper)** — Empty .NET coverage report for dotnet msbuild command in Container Wrapper

**[TW-52354](https://youtrack.jetbrains.com/issue/TW-52354/Kubernetes-Plugin-Cloud-instance-has-gone-is-not-reported-by-cloud-profile-for-instances-started-by-K8S-plugin)** — [Kubernetes Plugin] Cloud instance has gone (is not reported by cloud profile) for instances started by K8S plugin

**[TW-78241](https://youtrack.jetbrains.com/issue/TW-78241/TeamCity-Commit-Status-Publisher-failed-with-GitHub-fine-grained-token)** — TeamCity Commit Status Publisher failed with GitHub fine-grained token

**[TW-78578](https://youtrack.jetbrains.com/issue/TW-78578/New-NUnit-console-runner-3.16-support)** — New NUnit console runner 3.16 support

**[TW-78170](https://youtrack.jetbrains.com/issue/TW-78170/Maven-runner-info-maven-plugin-fails-if-user-pom-contains-teamcity-maven-plugin-repository)** — Maven runner: info-maven-plugin fails if user pom contains teamcity maven plugin repository

**[TW-78699](https://youtrack.jetbrains.com/issue/TW-78699/Cross-platform-.NET-code-coverage-fails-with-Unable-to-start-profiling.-PDB-server-wasnt-started)** — Cross-platform .NET code coverage fails with "Unable to start profiling. PDB server wasn't started"

**[TW-78177](https://youtrack.jetbrains.com/issue/TW-78177/AWS-Connection-autogenerated-DSL-contains-excess-param-awsConnectionId)** — AWS Connection autogenerated DSL contains excess param awsConnectionId

**[TW-78276](https://youtrack.jetbrains.com/issue/TW-78276/Rebuild-of-all-dependencies-does-not-work-if-a-build-chain-is-triggered-on-the-secondary-node)** — Rebuild of all dependencies does not work if a build chain is triggered on the secondary node

**[TW-78351](https://youtrack.jetbrains.com/issue/TW-78351/Kotlin-DSL-fails-to-generate-get-DSL-dependencies-since-upgrading-to-2022.10)** — Kotlin DSL fails to generate/get DSL dependencies since upgrading to 2022.10

**[TW-78567](https://youtrack.jetbrains.com/issue/TW-78567/BuildFailureCheckerFactoryImpl.logInvalidCondition-causes-NullPointerException-error-and-prevents-starting-of-a-build)** — BuildFailureCheckerFactoryImpl.logInvalidCondition causes NullPointerException error and prevents starting of a build

**[TW-77969](https://youtrack.jetbrains.com/issue/TW-77969/Remote-Run-always-fails-with-Failed-to-update-summary-Read-timed-out)** — Remote Run always fails with "Failed to update summary: Read timed out"

**[TW-78410](https://youtrack.jetbrains.com/issue/TW-78410/FXCop-plugin-doesnt-report-FxCopRoot-and-FxCopCmdFileVersion-parameters-after-upgrade-to-2022.10)** — FXCop plugin doesn't report `FxCopRoot` and `FxCopCmdFileVersion` parameters after upgrade to 2022.10

**[TW-78746](https://youtrack.jetbrains.com/issue/TW-78746/Exception-in-BuildStarter.selectNode-java.lang.IndexOutOfBoundsException-Index-2-out-of-bounds-for-length-2)** — Exception in BuildStarter.selectNode: java.lang.IndexOutOfBoundsException: Index 2 out of bounds for length 2

**[TW-78143](https://youtrack.jetbrains.com/issue/TW-78143/Build-configurations-counter-on-Agents-Compatible-configurations-tab-includes-composite-builds)** — Build configurations counter on Agent's Compatible configurations tab includes composite builds

**[TW-75507](https://youtrack.jetbrains.com/issue/TW-75507/Custom-ssl-certificate-support-for-native-git-on-server)** — Custom ssl certificate support for native git on server

**[TW-78511](https://youtrack.jetbrains.com/issue/TW-78511/Build-step-execution-condition-does-not-equal-does-not-allow-empty-value-to-be-specified)** — Build step execution condition: "does not equal" does not allow empty value to be specified

**[TW-78273](https://youtrack.jetbrains.com/issue/TW-78273/HTTPS-settings-a-better-handling-of-uploaded-keys)** — HTTPS settings: a better handling of uploaded keys

**[TW-69692](https://youtrack.jetbrains.com/issue/TW-69692/Click-on-removed-agent-on-build-overview-page-Cloud-image-does-not-exist)** — Click on removed agent on build overview - page "Cloud image does not exist"

**[TW-78301](https://youtrack.jetbrains.com/issue/TW-78301/EC2-Cloud-Agent-does-not-get-correct-security-groups-from-cloud-profile-settings-since-upgrade-to-2022.10)** — EC2 Cloud Agent does not get correct security group(s) from cloud profile settings since upgrade to 2022.10

**[TW-72324](https://youtrack.jetbrains.com/issue/TW-72324/Pending-changes-tab-is-not-updated-depending-on-the-pending-changes-quantity.)** — Pending changes tab is not updated depending on the pending changes quantity.

**[TW-78244](https://youtrack.jetbrains.com/issue/TW-78244/Add-links-to-the-documentation-for-AWS-Connection-and-AWS-Credentials)** — Add links to the documentation for AWS Connection and AWS Credentials

**[TW-72603](https://youtrack.jetbrains.com/issue/TW-72603/ModificationStateCalculatorImpl1-java.lang.IllegalArgumentException-Cannot-find-a-node-52284612)** — ModificationStateCalculatorImpl$1: java.lang.IllegalArgumentException: Cannot find a node: 52284612

**[TW-76422](https://youtrack.jetbrains.com/issue/TW-76422/AWS-Connection-improve-warnings-about-failures-during-test-connection)** — AWS Connection: improve warnings about failures during test connection

**[TW-78339](https://youtrack.jetbrains.com/issue/TW-78339/AWS-Connection-Default-Credentials-Provider-Chain-type-doesnt-work-if-the-credentials-are-in-.aws-credentials-file)** — AWS Connection: "Default Credentials Provider Chain" type doesn't work if the credentials are in .aws/credentials file

**[TW-78690](https://youtrack.jetbrains.com/issue/TW-78690/Avoid-removing-data-from-buildproject-table-in-parallel)** — Avoid removing data from build_project table in parallel

**[TW-78698](https://youtrack.jetbrains.com/issue/TW-78698/Schedule-trigger-with-Enforce-Clean-checkout-and-apply-to-all-snapshot-dependencies-doesnt-rebuild-dependencies)** — Schedule trigger with "Enforce Clean checkout" and "apply to all snapshot dependencies" doesn't rebuild dependencies

**[TW-78421](https://youtrack.jetbrains.com/issue/TW-78421/.NET-code-coverage-fails-with-TargetExecutable-file-does-not-exist)** — .NET code coverage fails with "TargetExecutable: file does not exist:"

**[TW-78689](https://youtrack.jetbrains.com/issue/TW-78689/Fix-hashCode-contract-for-DSL-classes)** — Fix hashCode contract for DSL classes

**[TW-78169](https://youtrack.jetbrains.com/issue/TW-78169/Extra-cloud-instance-startup-race-condition-during-agent-registration-and-flushQueue)** — Extra cloud instance startup (race condition during agent registration and flushQueue)

**[TW-78037](https://youtrack.jetbrains.com/issue/TW-78037/VCS-URL-for-Space-on-premise-is-incorrect)** — VCS URL for Space on-premise is incorrect

**[TW-78555](https://youtrack.jetbrains.com/issue/TW-78555/jetbrains.buildServer.configs.kotlin.CustomChart.PatternSeries-uses-wrong-type)** — jetbrains.buildServer.configs.kotlin.CustomChart.PatternSeries uses wrong type

**[TW-75820](https://youtrack.jetbrains.com/issue/TW-75820/Parallel-tests-do-not-export-generated-projects-configurations)** — Parallel tests: do not export generated projects/configurations

**[TW-76509](https://youtrack.jetbrains.com/issue/TW-76509/Lots-of-stacktraces-logged-by-CurrentStateCache-java.net.URISyntaxException-Cannot-parse-Git-URI-ish-The-uri-was-empty-or-null)** — Lots of stacktraces logged by CurrentStateCache: java.net.URISyntaxException: Cannot parse Git URI-ish: The uri was empty or null

**[TW-78530](https://youtrack.jetbrains.com/issue/TW-78530/Duplicate-builds-are-created-in-the-build-queue-by-the-finish-build-trigger)** — Duplicate builds are created in the build queue by the finish build trigger

**[TW-78255](https://youtrack.jetbrains.com/issue/TW-78255/Provide-unique-names-for-ElasticSearch-templates)** — Provide unique names for ElasticSearch templates

**[TW-78622](https://youtrack.jetbrains.com/issue/TW-78622/Create-project-from-URL-page-displays-required-DSL-context-parameters-in-random-order)** — Create project from URL page displays required DSL context parameters in random order

**[TW-78579](https://youtrack.jetbrains.com/issue/TW-78579/New-tests-run-in-all-batches-despite-of-clicking-Reset-parallel-tests-batches-until-the-splitLifeTime-timeout-is-over)** — New tests run in all batches despite of clicking "Reset parallel tests batches" until the splitLifeTime timeout is over

**[TW-78378](https://youtrack.jetbrains.com/issue/TW-78378/Disallow-creating-multiple-instances-of-AWS-Credentials-build-feature-on-a-single-build-configuration)** — Disallow creating multiple instances of AWS Credentials build feature on a single build configuration

**[TW-78595](https://youtrack.jetbrains.com/issue/TW-78595/Agent-lists-do-not-update-after-reassigning-agents-in-Sakura-UI)** — Agent lists do not update after reassigning agents in Sakura UI

**[TW-77698](https://youtrack.jetbrains.com/issue/TW-77698/Clicking-link-split-of-tests-for-parallel-execution-in-a-Template-causes-an-error.)** — Clicking link "split of tests for parallel execution" in a Template causes an error.

**[TW-78137](https://youtrack.jetbrains.com/issue/TW-78137/Build-configurations-counter-on-Agents-Compatible-Configurations-tab-includes-parallel-test-batches)** — Build configurations counter on Agent's Compatible Configurations tab includes parallel test batches

**[TW-78506](https://youtrack.jetbrains.com/issue/TW-78506/Do-not-change-tests-split-batches-on-new-VCS-changes-if-splitLifeTime-was-explicitly-overridden)** — Do not change tests split batches on new VCS changes, if splitLifeTime was explicitly overridden

**[TW-78529](https://youtrack.jetbrains.com/issue/TW-78529/Unclear-Parameter-based-build-step-execution-condition-type-purpose)** — Unclear Parameter-based build step execution condition type purpose

**[TW-65519](https://youtrack.jetbrains.com/issue/TW-65519/Exception-on-attempt-to-disable-and-than-enable-commit-status-publisher-plugin)** — Exception on attempt to disable and than enable Commit Status Publisher plugin

**[TW-77568](https://youtrack.jetbrains.com/issue/TW-77568/No-modified-parameters-in-failed-build-if-it-was-stopped-by-failure-condition)** — No modified parameters in failed build if it was stopped by failure condition

**[TW-77472](https://youtrack.jetbrains.com/issue/TW-77472/Build-approval-immediately-fail-build-if-approval-rules-are-incorrect)** — Build approval: immediately fail build if approval rules are incorrect

**[TW-77284](https://youtrack.jetbrains.com/issue/TW-77284/AWS-Connection-dont-show-Session-duration-for-connections-without-session-credentials)** — AWS Connection: don't show Session duration for connections without session credentials

**[TW-71281](https://youtrack.jetbrains.com/issue/TW-71281/Display-cloud-image-in-the-Agents-tree-for-users-without-View-cloud-images-and-instances-permission.)** — Display cloud image in the Agents tree for users without "View cloud images and instances" permission.

**[TW-78484](https://youtrack.jetbrains.com/issue/TW-78484/Schedule-trigger-health-report-may-fail-to-show-multiple-triggers-at-once-if-they-have-identical-IDs)** — Schedule trigger health report may fail to show multiple triggers at once if they have identical IDs

**[TW-78299](https://youtrack.jetbrains.com/issue/TW-78299/Error-java.lang.ClassNotFoundException-Class-javax.activation.DataSource-was-not-found-in-attempt-to-checkout-TFS-repo-on-agent)** — Error "java.lang.ClassNotFoundException: Class 'javax.activation.DataSource' was not found" in attempt to checkout TFS repo on agent

**[TW-74367](https://youtrack.jetbrains.com/issue/TW-74367/User-with-limited-permissions-cannot-see-cloud-images-in-the-available-agent-pools-in-Experimental-UI.)** — User with limited permissions cannot see cloud images in the available agent pools in Experimental UI.

**[TW-78319](https://youtrack.jetbrains.com/issue/TW-78319/Inconsistency-between-maximum-allowed-character-in-Shared-Resource-names)** — Inconsistency between maximum allowed character in Shared Resource names

**[TW-78093](https://youtrack.jetbrains.com/issue/TW-78093/No-link-Connect-via-SSM-on-the-secondary-node)** — No link "Connect via SSM" on the secondary node

**[TW-77805](https://youtrack.jetbrains.com/issue/TW-77805/Improve-logs-for-Artifact-migration-utility)** — Improve logs for Artifact migration utility

**[TW-77427](https://youtrack.jetbrains.com/issue/TW-77427/Strange-directory-logged-to-teamcity-agent.log-when-resolving-artifacts-dependencies)** — Strange directory logged to teamcity-agent.log when resolving artifacts dependencies

**[TW-77966](https://youtrack.jetbrains.com/issue/TW-77966/AWS-Connection-build-feature-display-specified-parameters-in-features-list)** — AWS Connection build feature - display specified parameters in features list

**[TW-78128](https://youtrack.jetbrains.com/issue/TW-78128/IDEA-Inspections-warnings-in-build-log-for-IDEA-2022.2.3)** — IDEA Inspections warnings in build log for IDEA 2022.2.3

**[TW-78016](https://youtrack.jetbrains.com/issue/TW-78016/View-as-code-shows-full-code-from-template-instead-of-specific-job-configuration)** — "View as code" shows full code from template instead of specific job configuration

**[TW-78081](https://youtrack.jetbrains.com/issue/TW-78081/Cannot-find-modification-in-TeamCity-database-in-the-build-log-of-a-build-even-though-the-commit-exists-in-the-database)** — "Cannot find modification in TeamCity database" in the build log of a build even though the commit exists in the database

**[TW-77098](https://youtrack.jetbrains.com/issue/TW-77098/Invalid-package-error-when-trying-to-upload-ReSharper-Command-Line-tools-from-the-official-website)** — 'Invalid package' error when trying to upload ReSharper Command Line tools from the official website

**[TW-78038](https://youtrack.jetbrains.com/issue/TW-78038/Artifacts-size-failure-condition-is-unclear-Artifacts-size-2.1-GB-is-2-different-from-2.1-GB)** — Artifacts size failure condition is unclear: "Artifacts size 2.1 GB is 2% different from 2.1 GB"

### Performance Problem

**[TW-76122](https://youtrack.jetbrains.com/issue/TW-76122/Endless-loop-on-attempt-to-create-a-flow-aware-index-file-for-a-build-log)** — Endless loop on attempt to create a flow aware index file for a build log

**[TW-78161](https://youtrack.jetbrains.com/issue/TW-78161/Slow-handling-of-test-mutes-when-build-is-finishing-probably-because-of-too-broad-scope-of-analyzed-projects-and-inefficient)** — Slow handling of test mutes when build is finishing probably because of too broad scope of analyzed projects and inefficient locking

**[TW-78476](https://youtrack.jetbrains.com/issue/TW-78476/Flow-aware-index-creation-uses-significant-amount-of-disk-resources)** — Flow-aware index creation uses significant amount of disk resources

**[TW-78429](https://youtrack.jetbrains.com/issue/TW-78429/Several-queries-for-artifact-dependencies-contain-unnecessary-wide-filters)** — Several queries for artifact dependencies contain unnecessary wide filters

**[TW-78574](https://youtrack.jetbrains.com/issue/TW-78574/Unnecessary-events-are-generated-for-recoverable-VCS-errors)** — Unnecessary events are generated for recoverable VCS errors

**[TW-67312](https://youtrack.jetbrains.com/issue/TW-67312/Artifacts-storage-admin-tab-is-slow)** — Artifacts storage admin tab is slow

**[TW-78186](https://youtrack.jetbrains.com/issue/TW-78186/Too-much-memory-used-by-SyncTask-thread-in-the-CustomDataStorageManager)** — Too much memory used by SyncTask thread in the CustomDataStorageManager

### Task

**[TW-76971](https://youtrack.jetbrains.com/issue/TW-76971/Support-agent-type-entity-instead-of-cloud-image)** — Support agent type entity instead of cloud image

**[TW-77651](https://youtrack.jetbrains.com/issue/TW-77651/Add-DSL-snippets-for-VCS-Hostings-and-Issue-Trackers)** — Add DSL snippets for VCS Hostings and Issue Trackers

**[TW-78532](https://youtrack.jetbrains.com/issue/TW-78532/Add-more-DSL-examples-to-Pull-Requests-build-feature)** — Add more DSL examples to Pull Requests build feature

**[TW-78159](https://youtrack.jetbrains.com/issue/TW-78159/IntelliJ-Plugin-convert-AbstractTreeBuilder-to-the-new-API)** — IntelliJ Plugin: convert `AbstractTreeBuilder` to the new API

**[TW-78438](https://youtrack.jetbrains.com/issue/TW-78438/Test-Connection-option-in-AWS-Connection-may-show-more-information-about-what-it-does-under-the-hood)** — "Test Connection" option in AWS Connection may show more information about what it does under the hood

**[TW-78440](https://youtrack.jetbrains.com/issue/TW-78440/AWS-Credentials-make-build-log-messages-more-verbose)** — AWS Credentials - make build log messages more verbose

**[TW-77764](https://youtrack.jetbrains.com/issue/TW-77764/Release-teamcity-messages-python-package-new-version-1.32-to-PyPI)** — Release teamcity-messages python package new version 1.32 to PyPI

**[TW-77975](https://youtrack.jetbrains.com/issue/TW-77975/Add-Update-runner-icons-Pack-2)** — Add / Update runner icons (Pack #2)

**[TW-78280](https://youtrack.jetbrains.com/issue/TW-78280/Inject-parameters-into-agent-before-the-agentStarted-event)** — Inject parameters into agent before the `agentStarted` event

**[TW-77076](https://youtrack.jetbrains.com/issue/TW-77076/Agents-screen-build-the-agents-tree-based-on-agent-types)** — Agents' screen: build the agents tree based on agent types

### Security

1 security problem has been fixed.















